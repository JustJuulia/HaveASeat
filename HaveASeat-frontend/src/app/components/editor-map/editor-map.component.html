<div class="main">
  <div class="room" [style.gridTemplateColumns]="'repeat(' + roomWidth + ', 50px)'">
    <ng-container *ngFor="let room of rooms; let rowIndex = index" >
      <ng-container *ngFor="let cell of room.cells; let colIndex = index" style="box-sizing: border-box;">
        <div 
          [ngStyle]="{
            gridRowStart: cell.positionY,
            gridColumnStart: cell.positionX,
            boxShadow: getBorder(room.id, cell.positionY, cell.positionX)
          }"
          [ngClass]="{
            'desk-cell': cell.isDesk,
            'rotate-right': cell.rotationClass === 'rotate-right',
            'rotate-bottom': cell.rotationClass === 'rotate-bottom',
            'rotate-left': cell.rotationClass === 'rotate-left',
            'clicked': cell.isClicked
          }"
          (click)="onDeskClick(cell)"
          class="place">
          <img *ngIf="cell.isDesk"  src="/assets/images/zielonegora.png" alt="Desk Image" class="desk-img" style="--cursor: pointer">
        </div>
      </ng-container>
    </ng-container>
  </div>

  <div class="desk-menu">
    <p class=current-desk>Aktywna komórka: {{ cellx }}, {{ celly }}</p>
    <button class="add-desk" (click)="addDesk()" *ngIf="!currentCell?.isDesk && currentCell != null">Dodaj biurko</button>
    <div *ngIf="currentCell?.isDesk">
      <button class="remove-desk" (click)="removeDesk()">Usuń biurko</button>
      <button class="rotate-left" (click)="rotateLeft()">Obróć w lewo</button>
      <button class="rotate-right" (click)="rotateRight()">Obróć w prawo</button>
    </div>
  </div>
</div>
